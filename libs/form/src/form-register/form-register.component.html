<div class="register-container">
  <div class="register-header">
    <div class="register-label">ลงทะเบียน</div>
    <div class="register-sub-label">Register account</div>
  </div>
  <div class="register-body" [formGroup]="formGroup">
    <div class="department-type-container">
      <mat-radio-group formControlName="departmentType">
        <mat-radio-button [value]="'3'"
          >เจ้าหน้าที่กรมโยธาธิการและผังเมือง
        </mat-radio-button>
        <mat-radio-button [value]="'2'">ผู้ขอใช้บริการทั่วไป</mat-radio-button>
      </mat-radio-group>
    </div>

    <div class="department-name-container">
      <ng-container *ngIf="isInsider; else departmentName">
        <mat-form-field class="form-field" appearance="outline">
          <mat-label>ชื่อหน่วยงาน</mat-label>
          <mat-select
            formControlName="departmentCategory"
            placeholder="กรุณาเลือกหน่วยงาน"
          >
            <mat-option
              *ngFor="let item of departmentList"
              [value]="item.departmentId"
            >
              {{ item.departmentName }}
            </mat-option>
          </mat-select>
        </mat-form-field></ng-container
      >
      <ng-template #departmentName>
        <mat-form-field class="form-field" appearance="outline">
          <mat-label>หน่วยงาน / บริษัท / อื่นๆ</mat-label>
          <input
            type="text"
            matInput
            formControlName="departmentName"
            placeholder="กรุณาเลือก หน่วยงาน / บริษัท / อื่นๆ"
          />
        </mat-form-field>
      </ng-template>
    </div>
    <div class="name-th-container">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>ชื่อ</mat-label>
        <input
          type="text"
          matInput
          formControlName="userNameTh"
          placeholder="ชื่อ"
        />
      </mat-form-field>
    </div>
    <div class="last-name-th-container">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>นามสกุล</mat-label>
        <input
          type="text"
          matInput
          formControlName="userLastNameTh"
          placeholder="นามสกุล"
        />
      </mat-form-field>
    </div>
    <div class="name-en-container">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>ชื่อ(ภาษาอังกฤษ)</mat-label>
        <input
          type="text"
          matInput
          formControlName="userNameEn"
          placeholder="ชื่อ(ภาษาอังกฤษ)"
        />
      </mat-form-field>
    </div>
    <div class="last-name-en-container">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>นามสกุล(ภาษาอังกฤษ)</mat-label>
        <input
          type="text"
          matInput
          formControlName="userLastNameEn"
          placeholder="นามสกุล(ภาษาอังกฤษ)"
        />
      </mat-form-field>
    </div>

    <div class="id-number-container">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>เลขบัตรประจำตัวประชาชน</mat-label>
        <input
          type="text"
          matInput
          formControlName="idNumber"
          placeholder="เลขบัตรประจำตัวประชาชน"
        />
      </mat-form-field>
    </div>

    <div class="position-container">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>ตำแหน่ง</mat-label>
        <input
          type="text"
          matInput
          formControlName="position"
          placeholder="ตำแหน่ง"
        />
      </mat-form-field>
    </div>
    <div class="email-container">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>อีเมล</mat-label>
        <input
          type="text"
          matInput
          formControlName="email"
          placeholder="อีเมล"
        />
        <mat-error *ngIf="formGroup.get('email')?.invalid"
          >รูปแบบอีเมลไม่ถูกต้อง</mat-error
        >
      </mat-form-field>
    </div>
    <div class="mobile-container">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>เบอร์ติดต่อ</mat-label>
        <input
          type="text"
          matInput
          formControlName="mobile"
          placeholder="เบอร์ติดต่อ"
        />
        <mat-error *ngIf="formGroup.get('mobile')?.invalid"
          >รูปแบบเบอร์ติดต่อไม่ถูกต้อง</mat-error
        >
      </mat-form-field>
    </div>

    <div class="user-name-container">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>ชื่อผู้ใช้งาน</mat-label>
        <input
          type="text"
          matInput
          formControlName="userName"
          placeholder="ชื่อผู้ใช้งาน"
        />
      </mat-form-field>
    </div>
    <div class="password-container">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>รหัสผ่าน</mat-label>
        <input
          [type]="isShowPassword ? 'text' : 'password'"
          matInput
          formControlName="password"
          placeholder="รหัสผ่าน"
        />
        <button
          mat-icon-button
          matSuffix
          (click)="isShowPassword = !isShowPassword"
        >
          <mat-icon>{{
            isShowPassword ? 'visibility_off' : 'visibility'
          }}</mat-icon>
        </button>
        <mat-error *ngIf="formGroup.get('password')?.invalid"
          >รหัสผ่านต้องมีความยาวไม่น้อยกว่า 8 ตัวอักษร</mat-error
        >
      </mat-form-field>
    </div>
    <div class="confirm-password-container">
      <mat-form-field class="form-field" appearance="outline">
        <mat-label>ยืนยันรหัสผ่าน</mat-label>
        <input
          [type]="isShowConfirmPassword ? 'text' : 'password'"
          matInput
          formControlName="confirmPassword"
          placeholder="ยืนยันรหัสผ่าน"
        />
        <button
          mat-icon-button
          matSuffix
          (click)="isShowConfirmPassword = !isShowConfirmPassword"
        >
          <mat-icon>{{
            isShowConfirmPassword ? 'visibility_off' : 'visibility'
          }}</mat-icon>
        </button>

        <mat-error *ngIf="formGroup.get('confirmPassword')?.invalid">
          รหัสผ่านไม่ตรงกัน</mat-error
        >
      </mat-form-field>
    </div>
  </div>
  <div class="pdpa-container">
    <mat-checkbox class="example-margin" [(ngModel)]="checked"
      >ยินยอมการให้ข้อมูลเพื่อผู้ให้บริการเก็บรวบรวม ใช้
      และเปิดเผยข้อมูลส่วนบุคคล เพื่อวัตถุประสงค์ในการให้ใช้การเว็ปไชต์
      รวมถึงวัตถุประสงค์อื่นๆ

      <a (click)="openPdpa()" class="pdpa-link">รายละเอียด</a>
    </mat-checkbox>
  </div>
  <div class="register-footer">
    <button
      mat-flat-button
      class="confirm-button"
      [disabled]="formGroup.invalid || !checked"
      (click)="onConfirm()"
    >
      ลงทะเบียน
    </button>
  </div>
</div>
