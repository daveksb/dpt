<div class="main-container">
  <div class="department-header">
    <div class="department-label header-1">การจัดการรายชื่อหน่วยงาน</div>
    <button mat-flat-button class="default-button big-button" (click)="onAdd()">
      + เพิ่มหน่วยงาน
    </button>
  </div>
  <div class="department-table default-table">
    <table
      mat-table
      [dataSource]="dataSource"
      matSort
      (matSortChange)="sortChange($event)"
      class="admin-user-table"
    >
      <ng-container matColumnDef="order">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ลำดับที่</th>
        <td mat-cell *matCellDef="let row; let i = index">
          {{
            i +
              1 +
              (dataSource.paginator?.pageIndex ?? 0) *
                (dataSource.paginator?.pageSize ?? 0)
          }}
        </td>
      </ng-container>

      <ng-container matColumnDef="departmentName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>หน่วยงาน</th>
        <td mat-cell *matCellDef="let row">{{ row.departmentName }}</td>
      </ng-container>

      <ng-container matColumnDef="departmentMember">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          หน่วยงานในสังกัด
        </th>
        <td mat-cell *matCellDef="let row">{{ row.departmentMember }}</td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef mat-sort-header></th>
        <td mat-cell *matCellDef="let row">
          <img
            src="assets/icon/edit.svg"
            class="default-icon"
            (click)="onEdit(row)"
          />
          <img
            src="assets/icon/delete.svg"
            class="default-icon"
            (click)="onDelete(row.departmentId)"
          />
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
    <mat-paginator
      [length]="200"
      [pageSize]="10"
      [pageSizeOptions]="[10, 50, 100]"
    >
    </mat-paginator>
  </div>
</div>
