<div class="landing-main">
  <div class="header-container">
    <!-- <div class="search-container" [style.background-image]="'url()'"> -->
    <div class="image-container">
      <img class="image-landing" src="assets/image/landing_1.png" />
      <!-- </div> -->
    </div>
    <div class="body-container">
      <div class="category-container">
        <div class="stripe-dash">
          <div class="category-header">หมวดหมู่ชุดข้อมูล</div>
        </div>
        <div class="category-list">
          <ng-container *ngFor="let item of category">
            <div
              class="category-item"
              [class.category-item--active]="item.catName === currentCategory"
              (click)="categoryClick(item.catName)"
            >
              <div class="category-icon">
                <img
                  class="category-image"
                  [src]="'assets/icon/' + mapCategory[item.catId]"
                />
              </div>
              <div class="category-label">
                {{ item.catName }}
              </div>
              <div class="category-view">({{ mapCount[item.catId] ?? 0 }})</div>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
    <div class="news-container">
      <dpt-news></dpt-news>
    </div>
    <div class="statistic-section">
      <div class="stripe-dash">
        <div class="statistic-header">สถิติการใช้งาน</div>
      </div>

      <div class="statistic-container">
        <div class="statistic-item">
          <div class="statistic-label">
            สถิติการเข้าดูข้อมูลสูงสุด 10 อันดับ
          </div>
          <div class="statistic-chart">
            <div class="api-table">
              <table class="table">
                <tbody>
                  <tr *ngFor="let item of apiStatistics">
                    <td class="table-link">{{ item.name }}</td>
                    <td class="no-wrap">{{ item.value }} ครั้ง</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <div class="statistic-item">
          <div class="statistic-label">สถิติข้อมูลแต่ละประเภท (ชุด)</div>
          <div class="statistic-chart">
            <ngx-charts-pie-chart
              [results]="categoryStatistics"
              [legend]="showLegend"
              [legendPosition]="legendPosition"
              [labels]="false"
              [view]="[300, 300]"
              [doughnut]="false"
            >
              >
            </ngx-charts-pie-chart>
          </div>
        </div>
        <div class="statistic-item">
          <div class="statistic-label">สถิติข้อมูลแต่ละหน่วยงาน (ชุด)</div>
          <div class="statistic-chart">
            <ngx-charts-pie-chart
              [results]="departmentStatistics"
              [legend]="showLegend"
              [legendPosition]="legendPosition"
              [labels]="false"
              [view]="[300, 300]"
              [doughnut]="true"
            >
            </ngx-charts-pie-chart>
          </div>
        </div>
        <div class="statistic-item">
          <div class="statistic-label">สถิติข้อมูลแต่ละจังหวัด (ชุด)</div>
          <div class="statistic-chart">
            <ngx-charts-pie-chart
              [results]="provinceStatistics"
              [legend]="showLegend"
              [legendPosition]="legendPosition"
              [labels]="false"
              [doughnut]="true"
              [view]="[300, 300]"
            >
            </ngx-charts-pie-chart>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
